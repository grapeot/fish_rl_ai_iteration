{"iteration": 8, "timestamp": "2025-11-12T12:53:25.603454Z", "summary": {"episodes": 20, "avg_final_survival_rate": 0.6307291666666666, "min_final_survival_rate": 0.4791666666666667, "avg_min_survival_rate": 0.6307291666666666, "min_of_min_survival_rate": 0.4791666666666667, "median_min_survival_rate": 0.625}, "death_stats": {"total_fish_samples": 1920, "survival_fraction": 0.6317708333333333, "mean_death_step": 394.3140625, "median_death_step": 500.0, "p10": 72.0, "p25": 335.0, "p75": 500.0, "p90": 500.0, "early_death_fraction_100": 0.13229166666666667, "early_death_fraction_150": 0.16666666666666666}, "density_penalty_coef": 0.0, "escape_boost_speed": 0.75, "step_one_death_count": 40, "step_one_death_ratio": 0.020833333333333332, "episode_seeds": [774941881, 1153548809, 1861755986, 1855747823, 572279594, 1383995792, 191515877, 1511445902, 867792330, 168081687, 910731157, 737386597, 738549808, 750061058, 308979966, 125465265, 445253941, 428959627, 1020527185, 1691489846], "multi_eval_num_fish": 96, "multi_eval_episodes": 20, "tail_stage_label": "ne_start", "tail_stage_type": "ne", "tail_stage_remaining_by_type": {"ne": 2944, "main": 9216}, "tail_stage_warn_active": false, "tail_stage_warn_since": null, "death_hist_path": "/Users/grapeot/co/fish_rl/experiments/v41/artifacts/plots/dev_v41_main_gate_buffer_v1_multi_eval_hist/dev_v41_main_gate_buffer_v1_iter008_death_hist.png", "step_one_deaths": [{"fish_idx": 74, "predator_index": 0, "fish_position": [2.9282522201538086, 1.1115963459014893], "predator_position": [2.3010356426239014, 1.2509708404541016], "predator_velocity": [1.7640148401260376, 0.8338525295257568]}, {"fish_idx": 90, "predator_index": 0, "fish_position": [2.180061101913452, 1.2878077030181885], "predator_position": [2.3010356426239014, 1.2509708404541016], "predator_velocity": [1.7640148401260376, 0.8338525295257568]}, {"fish_idx": 32, "predator_index": 0, "fish_position": [0.9567704200744629, -0.3143502473831177], "predator_position": [0.9952998161315918, 0.33232542872428894], "predator_velocity": [0.8290995955467224, 1.7638113498687744]}, {"fish_idx": 74, "predator_index": 0, "fish_position": [0.709380030632019, 0.12964293360710144], "predator_position": [0.9952998161315918, 0.33232542872428894], "predator_velocity": [0.8290995955467224, 1.7638113498687744]}, {"fish_idx": 82, "predator_index": 0, "fish_position": [0.42638781666755676, 0.3151080310344696], "predator_position": [0.9952998161315918, 0.33232542872428894], "predator_velocity": [0.8290995955467224, 1.7638113498687744]}, {"fish_idx": 30, "predator_index": 0, "fish_position": [-0.34136730432510376, -1.2032246589660645], "predator_position": [-0.3765838146209717, -1.7333191633224487], "predator_velocity": [-0.004209754057228565, 0.09250052273273468]}, {"fish_idx": 65, "predator_index": 0, "fish_position": [-0.07640423625707626, -2.2065861225128174], "predator_position": [-0.3765838146209717, -1.7333191633224487], "predator_velocity": [-0.004209754057228565, 0.09250052273273468]}, {"fish_idx": 48, "predator_index": 0, "fish_position": [-2.5548226833343506, -1.2023706436157227], "predator_position": [-2.0885024070739746, -1.2298262119293213], "predator_velocity": [-0.760752260684967, 0.2731790244579315]}, {"fish_idx": 87, "predator_index": 0, "fish_position": [-1.496881365776062, -1.5684425830841064], "predator_position": [-2.0885024070739746, -1.2298262119293213], "predator_velocity": [-0.760752260684967, 0.2731790244579315]}, {"fish_idx": 43, "predator_index": 0, "fish_position": [-0.3956080377101898, -0.8104633092880249], "predator_position": [-1.0634623765945435, -0.9775975942611694], "predator_velocity": [-0.36480847001075745, 0.761989176273346]}, {"fish_idx": 52, "predator_index": 0, "fish_position": [-0.9645503759384155, -0.8084606528282166], "predator_position": [-1.0634623765945435, -0.9775975942611694], "predator_velocity": [-0.36480847001075745, 0.761989176273346]}, {"fish_idx": 37, "predator_index": 0, "fish_position": [-1.1555794477462769, 1.3488000631332397], "predator_position": [-0.7424460649490356, 0.864992082118988], "predator_velocity": [-0.09307053685188293, 0.16470922529697418]}, {"fish_idx": 57, "predator_index": 0, "fish_position": [-0.3462708592414856, 0.8311175107955933], "predator_position": [-0.7424460649490356, 0.864992082118988], "predator_velocity": [-0.09307053685188293, 0.16470922529697418]}, {"fish_idx": 74, "predator_index": 0, "fish_position": [-0.9041037559509277, 1.1748127937316895], "predator_position": [-0.7424460649490356, 0.864992082118988], "predator_velocity": [-0.09307053685188293, 0.16470922529697418]}, {"fish_idx": 52, "predator_index": 0, "fish_position": [-0.4754272997379303, 1.7717595100402832], "predator_position": [-0.4166224002838135, 1.6821062564849854], "predator_velocity": [0.6966865062713623, 2.507636547088623]}, {"fish_idx": 28, "predator_index": 0, "fish_position": [-2.682227373123169, -1.637325644493103], "predator_position": [-2.1343889236450195, -1.3947831392288208], "predator_velocity": [-1.3844845294952393, 0.18155983090400696]}, {"fish_idx": 62, "predator_index": 0, "fish_position": [-2.7505276203155518, -1.2799113988876343], "predator_position": [-2.1343889236450195, -1.3947831392288208], "predator_velocity": [-1.3844845294952393, 0.18155983090400696]}, {"fish_idx": 85, "predator_index": 0, "fish_position": [-2.5810556411743164, -1.8246113061904907], "predator_position": [-2.1343889236450195, -1.3947831392288208], "predator_velocity": [-1.3844845294952393, 0.18155983090400696]}, {"fish_idx": 70, "predator_index": 0, "fish_position": [0.5054981708526611, 2.3136539459228516], "predator_position": [0.09903616458177567, 1.948354959487915], "predator_velocity": [0.2353382110595703, 1.7114295959472656]}, {"fish_idx": 81, "predator_index": 0, "fish_position": [-1.528141736984253, 0.9979979991912842], "predator_position": [-1.8695952892303467, 1.1616030931472778], "predator_velocity": [-0.36744174361228943, 1.3977464437484741]}, {"fish_idx": 88, "predator_index": 0, "fish_position": [-1.7028027772903442, 0.6126524806022644], "predator_position": [-1.8695952892303467, 1.1616030931472778], "predator_velocity": [-0.36744174361228943, 1.3977464437484741]}, {"fish_idx": 51, "predator_index": 0, "fish_position": [-2.558561086654663, -0.3625037372112274], "predator_position": [-2.015226364135742, 0.0028769224882125854], "predator_velocity": [-1.3161557912826538, 0.3170402944087982]}, {"fish_idx": 48, "predator_index": 0, "fish_position": [1.4919441938400269, 0.6171075105667114], "predator_position": [1.185570240020752, 0.5269166231155396], "predator_velocity": [0.5797194242477417, 1.4771525859832764]}, {"fish_idx": 68, "predator_index": 0, "fish_position": [1.7941513061523438, 0.4586407542228699], "predator_position": [1.185570240020752, 0.5269166231155396], "predator_velocity": [0.5797194242477417, 1.4771525859832764]}, {"fish_idx": 31, "predator_index": 0, "fish_position": [-1.9194066524505615, -0.577127993106842], "predator_position": [-2.2525148391723633, -0.257306307554245], "predator_velocity": [-0.36787620186805725, 2.0219876766204834]}, {"fish_idx": 79, "predator_index": 0, "fish_position": [-1.8504308462142944, -0.5855504870414734], "predator_position": [-2.2525148391723633, -0.257306307554245], "predator_velocity": [-0.36787620186805725, 2.0219876766204834]}, {"fish_idx": 15, "predator_index": 0, "fish_position": [3.7433605194091797, -1.4958879947662354], "predator_position": [3.4256699085235596, -0.9288480281829834], "predator_velocity": [2.424006938934326, 0.08242492377758026]}, {"fish_idx": 22, "predator_index": 0, "fish_position": [3.3657798767089844, -0.42569321393966675], "predator_position": [3.4256699085235596, -0.9288480281829834], "predator_velocity": [2.424006938934326, 0.08242492377758026]}, {"fish_idx": 57, "predator_index": 0, "fish_position": [3.870903491973877, -1.0199227333068848], "predator_position": [3.4256699085235596, -0.9288480281829834], "predator_velocity": [2.424006938934326, 0.08242492377758026]}, {"fish_idx": 66, "predator_index": 0, "fish_position": [3.8011062145233154, -0.5308642983436584], "predator_position": [3.4256699085235596, -0.9288480281829834], "predator_velocity": [2.424006938934326, 0.08242492377758026]}, {"fish_idx": 87, "predator_index": 0, "fish_position": [3.709810972213745, -0.8445339202880859], "predator_position": [3.4256699085235596, -0.9288480281829834], "predator_velocity": [2.424006938934326, 0.08242492377758026]}, {"fish_idx": 4, "predator_index": 0, "fish_position": [1.4066319465637207, 2.953012704849243], "predator_position": [1.5456312894821167, 2.7135889530181885], "predator_velocity": [0.08686351031064987, 2.2969439029693604]}, {"fish_idx": 56, "predator_index": 0, "fish_position": [1.2010447978973389, 2.1060166358947754], "predator_position": [1.5456312894821167, 2.7135889530181885], "predator_velocity": [0.08686351031064987, 2.2969439029693604]}, {"fish_idx": 17, "predator_index": 0, "fish_position": [-0.317716509103775, 1.9407119750976562], "predator_position": [-0.6587538123130798, 1.8783159255981445], "predator_velocity": [0.4895246624946594, 1.5956735610961914]}, {"fish_idx": 41, "predator_index": 0, "fish_position": [-0.9171227812767029, 2.117155075073242], "predator_position": [-0.6587538123130798, 1.8783159255981445], "predator_velocity": [0.4895246624946594, 1.5956735610961914]}, {"fish_idx": 47, "predator_index": 0, "fish_position": [-0.38596463203430176, 1.3623603582382202], "predator_position": [-0.6587538123130798, 1.8783159255981445], "predator_velocity": [0.4895246624946594, 1.5956735610961914]}, {"fish_idx": 30, "predator_index": 0, "fish_position": [0.6237289905548096, 1.9266213178634644], "predator_position": [0.6468811631202698, 2.242039680480957], "predator_velocity": [0.05193238705396652, 1.7200521230697632]}, {"fish_idx": 50, "predator_index": 0, "fish_position": [0.6174353957176208, 2.256624698638916], "predator_position": [0.6468811631202698, 2.242039680480957], "predator_velocity": [0.05193238705396652, 1.7200521230697632]}, {"fish_idx": 95, "predator_index": 0, "fish_position": [0.4408574104309082, 2.287075996398926], "predator_position": [0.6468811631202698, 2.242039680480957], "predator_velocity": [0.05193238705396652, 1.7200521230697632]}, {"fish_idx": 82, "predator_index": 0, "fish_position": [1.7944986820220947, -2.716433048248291], "predator_position": [1.7606050968170166, -2.2073445320129395], "predator_velocity": [1.4614262580871582, 0.09778861701488495]}], "step_one_clusters": {"total": 40, "angle_bin_deg": 30.0, "speed_bin": 0.4, "clusters": [{"angle_deg_start": 60.0, "angle_deg_end": 90.0, "speed_bin_start": 1.6, "speed_bin_end": 2.0, "count": 10, "share": 0.25}, {"angle_deg_start": 90.0, "angle_deg_end": 120.0, "speed_bin_start": 0.0, "speed_bin_end": 0.4, "count": 5, "share": 0.125}, {"angle_deg_start": 0.0, "angle_deg_end": 30.0, "speed_bin_start": 2.4000000000000004, "speed_bin_end": 2.8000000000000003, "count": 5, "share": 0.125}, {"angle_deg_start": 150.0, "angle_deg_end": 180.0, "speed_bin_start": 1.2000000000000002, "speed_bin_end": 1.6, "count": 4, "share": 0.1}, {"angle_deg_start": 0.0, "angle_deg_end": 30.0, "speed_bin_start": 1.6, "speed_bin_end": 2.0, "count": 2, "share": 0.05}, {"angle_deg_start": 150.0, "angle_deg_end": 180.0, "speed_bin_start": 0.8, "speed_bin_end": 1.2000000000000002, "count": 2, "share": 0.05}, {"angle_deg_start": 90.0, "angle_deg_end": 120.0, "speed_bin_start": 0.8, "speed_bin_end": 1.2000000000000002, "count": 2, "share": 0.05}, {"angle_deg_start": 90.0, "angle_deg_end": 120.0, "speed_bin_start": 1.2000000000000002, "speed_bin_end": 1.6, "count": 2, "share": 0.05}, {"angle_deg_start": 60.0, "angle_deg_end": 90.0, "speed_bin_start": 1.2000000000000002, "speed_bin_end": 1.6, "count": 2, "share": 0.05}, {"angle_deg_start": 90.0, "angle_deg_end": 120.0, "speed_bin_start": 2.0, "speed_bin_end": 2.4000000000000004, "count": 2, "share": 0.05}, {"angle_deg_start": 60.0, "angle_deg_end": 90.0, "speed_bin_start": 2.0, "speed_bin_end": 2.4000000000000004, "count": 2, "share": 0.05}, {"angle_deg_start": 60.0, "angle_deg_end": 90.0, "speed_bin_start": 2.4000000000000004, "speed_bin_end": 2.8000000000000003, "count": 1, "share": 0.025}, {"angle_deg_start": 0.0, "angle_deg_end": 30.0, "speed_bin_start": 1.2000000000000002, "speed_bin_end": 1.6, "count": 1, "share": 0.025}]}, "step_one_ne_high_speed_share": 0.05, "pre_roll_stats_summary": {"sampled_episodes": 20, "spawn_radius": {"count": 20, "mean": 0.7497080430388451, "std": 0.466323684966688, "p10": 0.1823540732264519, "p50": 0.665457159280777, "p90": 1.4448798656463624, "min": 0.012038618326187134, "max": 1.5775048732757568}, "spawn_angle_deg": {"count": 20, "mean": -25.941450357437134, "std": 102.86426299558933, "p10": -145.34992523193358, "p50": -41.08699321746826, "p90": 164.70725708007814, "min": -161.15975952148438, "max": 170.54266357421875}, "initial_heading_deg": {"count": 20, "mean": -29.13246619850397, "std": 91.8435569742106, "p10": -117.43374481201171, "p50": -72.85617446899414, "p90": 107.99461441040046, "min": -141.34104919433594, "max": 165.15914916992188}, "final_heading_deg": {"count": 20, "mean": 82.47440791428089, "std": 63.35585314630333, "p10": 1.7622509062290193, "p50": 88.00250244140625, "p90": 164.13814697265624, "min": -100.64553833007812, "max": 174.57179260253906}, "initial_speed": {"count": 20, "mean": 1.5000000059604646, "std": 5.930587274471641e-08, "p10": 1.499999988079071, "p50": 1.5, "p90": 1.5000001192092896, "min": 1.4999998807907104, "max": 1.5000001192092896}, "final_speed": {"count": 20, "mean": 1.4520242426544427, "std": 0.6595599737750275, "p10": 0.724336637556553, "p50": 1.5013048648834229, "p90": 2.2661825656890873, "min": 0.04270850867033005, "max": 2.554476499557495}, "angle_jitter_deg": {"count": 320, "mean": -0.7773850355905622, "std": 9.880203759344822, "p10": -13.447711621258412, "p50": -1.8799848158632573, "p90": 12.949724611971488, "min": -17.18345393676071, "max": 17.1416914290722}, "speed_scale": {"count": 320, "mean": 2.929168174186919, "std": 9.632684718175511, "p10": 0.20840908865632377, "p50": 0.9792575681960123, "p90": 4.475794508200008, "min": 0.0042783345872691335, "max": 99.7522731139596}, "heading_bias_angle_deg": {"count": 20, "mean": 186.86753229923534, "std": 105.87862531529335, "p10": 9.819778663097736, "p50": 234.5933588014272, "p90": 280.30440783526575, "min": 0.43294952774813433, "max": 326.10576920017024}, "prewarm_override_count": 0, "prewarm_override_ratio": 0.0, "spawn_angle_hist_deg": {"bins": [3, 2, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0], "edges": [0.0, 30.0, 60.0, 90.0, 120.0, 150.0, 180.0, 210.0, 240.0, 270.0, 300.0, 330.0, 360.0]}, "initial_speed_hist": {"bins": [0, 0, 0, 0, 0, 0, 0, 0, 0, 20], "edges": [0.0, 0.16, 0.32, 0.48, 0.64, 0.8, 0.96, 1.12, 1.28, 1.44, 1.6]}}, "penalty_gate": {"event": "failure_hold", "stage": 0, "phase_limit": 3, "success_streak": 0, "freeze_until": 13, "failure_detected": true, "failure_streak": 1, "failure_tolerance": 2, "tail_stage_type": "ne", "early_death_threshold": 0.13, "early_death_window": 3, "step_one_death_ratio": 0.020833333333333332}}
